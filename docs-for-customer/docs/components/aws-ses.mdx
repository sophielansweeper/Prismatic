---
id: aws-ses
title: Amazon SES Component
sidebar_label: Amazon SES
description: Send Emails through Amazon (AWS) SES. Learn more about using Prismatic's Amazon SES component.
---

[//]: # "DO NOT EDIT THIS FILE MANUALLY."
[//]: # "This file was auto generated using scripts in docusaurus/scripts/components/"

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

<div className="avatar">
  <div className="avatar__photo-link avatar__photo avatar__photo--lg">
    <img
      src="/docs/img/components/icons/60/YXdzLXNlcw==.png"
      alt="Amazon SES"
    />
  </div>
  <div className="avatar__intro">
    <h4 className="avatar__name">Send Emails through Amazon (AWS) SES</h4>
    <small className="avatar__subtitle">
      Component key: <b>aws-ses</b>
    </small>
  </div>
</div>

## Description

[Amazon SES](https://aws.amazon.com/ses/) is a service that enables developers to send mail from within any application.
The Amazon SES component allows you to list identities, and send emails to those identities.

:::note You must validate email addresses or domains
Before you can send an email using Amazon SES, you must verify that you are the owner of the email address or domain that you want to send email from.
You can do that from the SES admin page on the AWS console.
:::

## Connections

### AWS SES Access Key and Secret

An AWS IAM [access key pair](https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_access-keys.html) is required to interact with Amazon SES.
Make sure that the key pair you generate in AWS has proper permissions to the SES resources you want to access.
Read about Amazon SES IAM policies in the [AWS docs](https://docs.aws.amazon.com/ses/latest/dg/control-user-access.html).

<ComponentInputsTable
  inputs={[
    {
      placeholder: "Access Key ID",
      required: true,
      shown: true,
      comments: "An AWS IAM Access Key ID",
      example: "AKIAIOSFODNN7EXAMPLE",
      key: "accessKeyId",
      type: "string",
      default: "",
      label: "Access Key ID",
    },
    {
      placeholder: "Secret Access Key",
      required: true,
      shown: true,
      comments: "An AWS IAM Secret Access Key",
      example: "wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY",
      key: "secretAccessKey",
      type: "password",
      default: "",
      label: "Secret Access Key",
    },
  ]}
/>

### AWS Role ARN

To enable the IAM role authentication begin by logging into the [AWS Console](https://aws.amazon.com/) and navigate to Identity and Access Management (IAM).

To create a user and generate credentials:

1. Navigate to Users and select **Create User**.

- Provide a User name and check the box providing them user access to the AWS Managment Console if needed.
- Once completed with the User creation, copy the ARN provided in the summary for a later step.

2. To obtain the ARN for an existing User, click on the designated username from the Users page and the ARN will be provided in the summary section.

3. From the summary section, select **Create access key**

- Select **Third-party service** as the access key type and select next.
- Set a description and select **create access key**.
- Copy the **Access Key** and **Secret access key** and enter those into the connection configuration of your integration along with the ARN.

To create and assign a user a role:

1. Navigate to Roles and select **Create Role**.

- Select **Custom Trust Policy** for the Trusted entity types
- Copy the following statement into the statement console. Making sure to replace the **ARN** with the user's actual ARN from the previous section

```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Principal": {
        "AWS": "ARN"
      },
      "Action": "sts:AssumeRole"
    }
  ]
}
```

- When adding permissions provide the **AmazonSESFullAccess** permission
- Complete remaining steps and select **Create Role**

<ComponentInputsTable
  inputs={[
    {
      placeholder: "Access Key ID",
      required: true,
      shown: true,
      comments: "An AWS IAM Access Key ID",
      example: "AKIAIOSFODNN7EXAMPLE",
      key: "accessKeyId",
      type: "string",
      default: "",
      label: "Access Key ID",
    },
    {
      placeholder: "arn:aws:iam::OtherAccount-ID:role/assumed-role-name",
      required: true,
      shown: true,
      comments: "An AWS IAM Role ARN",
      example: "arn:aws:iam::OtherAccount-ID:role/assumed-role-name",
      key: "roleARN",
      type: "string",
      default: "",
      label: "Role ARN",
    },
    {
      placeholder: "Secret Access Key",
      required: true,
      shown: true,
      comments: "An AWS IAM Secret Access Key",
      example: "wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY",
      key: "secretAccessKey",
      type: "password",
      default: "",
      label: "Secret Access Key",
    },
  ]}
/>

## Actions

<div id="listidentities" />

### List Identities

List Identities available in Amazon SES | <small><b>key: listIdentities</b></small>

<ComponentInputsTable
  inputs={[
    {
      required: true,
      key: "awsConnection",
      type: "connection",
      label: "Connection",
    },
    {
      placeholder: "AWS Region",
      required: false,
      comments:
        "AWS provides services in multiple regions, like us-west-2 or eu-west-1.",
      example: "us-east-1",
      model: [
        {
          label: "af-south-1",
          value: "af-south-1",
        },
        {
          label: "ap-east-1",
          value: "ap-east-1",
        },
        {
          label: "ap-northeast-1",
          value: "ap-northeast-1",
        },
        {
          label: "ap-northeast-2",
          value: "ap-northeast-2",
        },
        {
          label: "ap-northeast-3",
          value: "ap-northeast-3",
        },
        {
          label: "ap-south-1",
          value: "ap-south-1",
        },
        {
          label: "ap-south-2",
          value: "ap-south-2",
        },
        {
          label: "ap-southeast-1",
          value: "ap-southeast-1",
        },
        {
          label: "ap-southeast-2",
          value: "ap-southeast-2",
        },
        {
          label: "ap-southeast-3",
          value: "ap-southeast-3",
        },
        {
          label: "ap-southeast-4",
          value: "ap-southeast-4",
        },
        {
          label: "ca-central-1",
          value: "ca-central-1",
        },
        {
          label: "eu-central-1",
          value: "eu-central-1",
        },
        {
          label: "eu-central-2",
          value: "eu-central-2",
        },
        {
          label: "eu-north-1",
          value: "eu-north-1",
        },
        {
          label: "eu-south-1",
          value: "eu-south-1",
        },
        {
          label: "eu-south-2",
          value: "eu-south-2",
        },
        {
          label: "eu-west-1",
          value: "eu-west-1",
        },
        {
          label: "eu-west-2",
          value: "eu-west-2",
        },
        {
          label: "eu-west-3",
          value: "eu-west-3",
        },
        {
          label: "me-central-1",
          value: "me-central-1",
        },
        {
          label: "me-south-1",
          value: "me-south-1",
        },
        {
          label: "sa-east-1",
          value: "sa-east-1",
        },
        {
          label: "us-east-1",
          value: "us-east-1",
        },
        {
          label: "us-east-2",
          value: "us-east-2",
        },
        {
          label: "us-gov-east-1",
          value: "us-gov-east-1",
        },
        {
          label: "us-gov-west-1",
          value: "us-gov-west-1",
        },
        {
          label: "us-west-1",
          value: "us-west-1",
        },
        {
          label: "us-west-2",
          value: "us-west-2",
        },
      ],
      key: "awsRegion",
      type: "string",
      default: "",
      label: "AWS Region",
    },
    {
      required: true,
      model: [
        {
          label: "Email",
          value: "EmailAddress",
        },
        {
          label: "Domain",
          value: "Domain",
        },
      ],
      comments: "Provide the type of identity you want to list.",
      key: "identityType",
      type: "string",
      default: "EmailAddress",
      label: "Identity Type",
    },
    {
      required: false,
      comments:
        "Specify the pagination token that's returned by a previous request to retrieve the next page of results",
      example: "lslTXFcbLQKkb0vP9Kgh5hy0Y0OnC7Z9ZPHPwPmMnxSk3eiDRMkct7D8E",
      key: "nextToken",
      type: "string",
      default: "",
      label: "Next Token",
    },
  ]}
/>

#### Output Example Payload

```
{
  "data": {
    "$metadata": {
      "httpStatusCode": 200,
      "requestId": "4d41a619-b699-444b-9b09-7edbb92fc867",
      "attempts": 1,
      "totalRetryDelay": 0
    },
    "Identities": [
      "example@example.com"
    ],
    "NextToken": "exampleToken"
  }
}
```

<hr className="componentActionSeparator" />

<div id="sendemail" />

### Send Email

Send an email through Amazon SES | <small><b>key: sendEmail</b></small>

<ComponentInputsTable
  inputs={[
    {
      comments:
        "Specify a file name as the key (i.e. 'my-file.pdf'), and the file as the value",
      key: "attachments",
      type: "string",
      default: "",
      collection: "keyvaluelist",
      label: "Attachments",
    },
    {
      required: true,
      key: "awsConnection",
      type: "connection",
      label: "Connection",
    },
    {
      placeholder: "AWS Region",
      required: false,
      comments:
        "AWS provides services in multiple regions, like us-west-2 or eu-west-1.",
      example: "us-east-1",
      model: [
        {
          label: "af-south-1",
          value: "af-south-1",
        },
        {
          label: "ap-east-1",
          value: "ap-east-1",
        },
        {
          label: "ap-northeast-1",
          value: "ap-northeast-1",
        },
        {
          label: "ap-northeast-2",
          value: "ap-northeast-2",
        },
        {
          label: "ap-northeast-3",
          value: "ap-northeast-3",
        },
        {
          label: "ap-south-1",
          value: "ap-south-1",
        },
        {
          label: "ap-south-2",
          value: "ap-south-2",
        },
        {
          label: "ap-southeast-1",
          value: "ap-southeast-1",
        },
        {
          label: "ap-southeast-2",
          value: "ap-southeast-2",
        },
        {
          label: "ap-southeast-3",
          value: "ap-southeast-3",
        },
        {
          label: "ap-southeast-4",
          value: "ap-southeast-4",
        },
        {
          label: "ca-central-1",
          value: "ca-central-1",
        },
        {
          label: "eu-central-1",
          value: "eu-central-1",
        },
        {
          label: "eu-central-2",
          value: "eu-central-2",
        },
        {
          label: "eu-north-1",
          value: "eu-north-1",
        },
        {
          label: "eu-south-1",
          value: "eu-south-1",
        },
        {
          label: "eu-south-2",
          value: "eu-south-2",
        },
        {
          label: "eu-west-1",
          value: "eu-west-1",
        },
        {
          label: "eu-west-2",
          value: "eu-west-2",
        },
        {
          label: "eu-west-3",
          value: "eu-west-3",
        },
        {
          label: "me-central-1",
          value: "me-central-1",
        },
        {
          label: "me-south-1",
          value: "me-south-1",
        },
        {
          label: "sa-east-1",
          value: "sa-east-1",
        },
        {
          label: "us-east-1",
          value: "us-east-1",
        },
        {
          label: "us-east-2",
          value: "us-east-2",
        },
        {
          label: "us-gov-east-1",
          value: "us-gov-east-1",
        },
        {
          label: "us-gov-west-1",
          value: "us-gov-west-1",
        },
        {
          label: "us-west-1",
          value: "us-west-1",
        },
        {
          label: "us-west-2",
          value: "us-west-2",
        },
      ],
      key: "awsRegion",
      type: "string",
      default: "",
      label: "AWS Region",
    },
    {
      example: "example@example.com",
      required: false,
      comments:
        "The destination for this email. The recipients to place on the BCC: line of the message.",
      key: "bcc",
      type: "string",
      default: "",
      collection: "valuelist",
      label: "Bcc Address",
    },
    {
      example: "example@example.com",
      required: false,
      comments:
        "The destination for this email. The recipients to place on the CC: line of the message.",
      key: "cc",
      type: "string",
      default: "",
      collection: "valuelist",
      label: "Cc Address",
    },
    {
      example: "<p>Hello World!</p>",
      required: false,
      comments:
        "The content of the message, in HTML format. Use this for email clients that can process HTML. You can include clickable links, formatted text, and much more in an HTML message.",
      key: "html",
      type: "string",
      default: "",
      label: "Html",
    },
    {
      example: "example@example.com",
      required: false,
      comments:
        "The reply-to email address(es) for the message. If the recipient replies to the message, each reply-to address will receive the reply. This email address must be either individually verified with Amazon SES, or from a domain that has been verified with Amazon SES.",
      key: "replyTo",
      type: "string",
      default: "",
      collection: "valuelist",
      label: "Reply To",
    },
    {
      example: "example@example.com",
      required: true,
      comments:
        "The email address that is sending the email. This email address must be either individually verified with Amazon SES, or from a domain that has been verified with Amazon SES.",
      key: "sender",
      type: "string",
      default: "",
      label: "Sender Email",
    },
    {
      example: "My Email Subject",
      required: true,
      comments:
        "The subject of the message: A short summary of the content, which will appear in the recipient's inbox.",
      key: "subject",
      type: "string",
      default: "",
      label: "Subject",
    },
    {
      example: "Hello World!",
      required: true,
      comments:
        "The content of the message, in text format. Use this for text-based email clients, or clients on high-latency networks (such as mobile devices).",
      key: "text",
      type: "string",
      default: "",
      label: "Text",
    },
    {
      example: "example@example.com",
      required: true,
      comments:
        "The destination for this email. The recipients to place on the To: line of the message.",
      key: "to",
      type: "string",
      default: "",
      collection: "valuelist",
      label: "To Address",
    },
  ]}
/>

#### Output Example Payload

```
{
  "data": {
    "$metadata": {
      "httpStatusCode": 200,
      "requestId": "00000000-0000-0000-0000-000000000000",
      "attempts": 1,
      "totalRetryDelay": 0
    },
    "MessageId": "0000000000000000-00000000-0000-0000-0000-000000000000-000000"
  }
}
```

<hr className="componentActionSeparator" />
