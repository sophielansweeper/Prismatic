---
id: twilio
title: Twilio Component
sidebar_label: Twilio
description: Send SMS messages through Twilio. Learn more about using Prismatic's Twilio component.
---

[//]: # "DO NOT EDIT THIS FILE MANUALLY."
[//]: # "This file was auto generated using scripts in docusaurus/scripts/components/"

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

<div className="avatar">
  <div className="avatar__photo-link avatar__photo avatar__photo--lg">
    <img src="/docs/img/components/icons/60/dHdpbGlv.png" alt="Twilio" />
  </div>
  <div className="avatar__intro">
    <h4 className="avatar__name">Send SMS messages through Twilio</h4>
    <small className="avatar__subtitle">
      Component key: <b>twilio</b>
    </small>
  </div>
</div>

## Description

[Twilio](https://www.twilio.com/) is a platform that allows you to send SMS text messages.
You can use the Twilio component to send messages to your end users or to your team.

## Connections

### Twilio API Key Connection

This component authenticates with Twilio using API key/secret pairs that can be generated from Twilio's app console.
To create a Twilio API key and secret pair:

- Go to the Twilio [console](https://console.twilio.com/)
- On the top-right of the screen click **Account** -> **API Keys & Tokens**
- Select **Create API Key**
- Give your key a name and select **Standard** for **Key type**
- Take note of the API key's **SID** and **Secret** - you will enter those into Prismatic in a moment

Now, when you create an integration that uses Twilio, a "Twilio API Key Connection" will automatically be generated.
Enter your **API Key SID** (starts with "SK..."), and its **Secret**.
Go back to your Twilio console to find your **Account SID** (starts with "AC..."), and enter that as well.

<ComponentInputsTable
  inputs={[
    {
      placeholder: "Account SID",
      required: true,
      shown: true,
      comments: "Your account SID (starts with AC)",
      example: "ACXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
      key: "accountSid",
      type: "string",
      default: "",
      label: "Account SID",
    },
    {
      placeholder: "API Key SID",
      required: true,
      shown: true,
      comments: "An API Key SID (starts with SK)",
      example: "SKXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
      key: "apiKey",
      type: "string",
      default: "",
      label: "API Key SID",
    },
    {
      placeholder: "API Key Secret",
      required: true,
      shown: true,
      comments: "The API secret that was generated when an API key was created",
      key: "apiSecret",
      type: "string",
      default: "",
      label: "API Key Secret",
    },
  ]}
/>

### Twilio Auth Token Connection

When you create a Twilio account, an **Account String Identifier** (Account SID) and **Auth Token** are generated.
You can use the account SID and auth token to authenticate with Twilio and to send SMS messages.

:::caution Consider API Keys instead
For security reasons, we recommend using an [API Key Connection](#twilio-api-key-connection) instead.
API keys can be revoked and auth tokens generated using API keys are short-lived.
:::

<ComponentInputsTable
  inputs={[
    {
      placeholder: "Auth Token",
      comments: "Can be found on https://console.twilio.com/",
      required: true,
      shown: true,
      key: "password",
      type: "string",
      default: "",
      label: "Auth Token",
    },
    {
      placeholder: "Account SID",
      required: true,
      shown: true,
      comments: "Your account SID (starts with AC)",
      example: "ACXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
      key: "username",
      type: "string",
      default: "",
      label: "Account SID",
    },
  ]}
/>

## Triggers

<div id="webhook" />

### Webhook

Receive and validate webhook requests from Twilio for webhooks you configure. | <small><b>key: webhook</b></small>

<ComponentInputsTable inputs={[]} />

You can configure a Twilio [webhook](https://www.twilio.com/docs/usage/webhooks) to send information to a Prismatic webhook URL upon sending a text message.

The webhook configuration takes place when adding/updating contact phone numbers.

#### Output Example Payload

```json
{
  "payload": {
    "headers": {
      "accept": "*/*",
      "Content-Type": "application/json; charset=UTF-8",
      "User-Agent": "TwilioProxy/1.1",
      "Host": "hooks.example.prismatic.io"
    },
    "body": {},
    "rawBody": {
      "data": {
        "type": "Buffer",
        "data": [69, 120, 97, 109, 112, 108, 101]
      }
    },
    "queryParameters": null,
    "webhookUrls": {
      "Flow 1": "https://hooks.example.prismatic.io/trigger/EXAMPLEGbG93Q29uZmlnOmRlNmNmNDMyLTliNWMtN0005NDMxLTRmYzA4ZjViODgxOA=="
    },
    "webhookApiKeys": {
      "Flow 1": ["abc-123"]
    },
    "customer": {
      "externalId": "customer-example-external-id",
      "name": "John Doe"
    }
  }
}
```

<hr className="componentActionSeparator" />

## Actions

<div id="getsms" />

### Get SMS

Get an SMS message | <small><b>key: getSMS</b></small>

<ComponentInputsTable
  inputs={[
    {
      required: true,
      key: "sid",
      type: "string",
      default: "",
      label: "Message SID",
    },
    {
      required: true,
      key: "twilioConnection",
      type: "connection",
      label: "Connection",
    },
  ]}
/>

#### Output Example Payload

```
{
  "data": {
    "accountSid": "ACXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
    "apiVersion": "2010-04-01",
    "body": "body",
    "dateCreated": "2010-04-01T00:00:00.000Z",
    "dateSent": "2010-04-01T00:00:00.000Z",
    "dateUpdated": "2010-04-01T00:00:00.000Z",
    "direction": "outbound-api",
    "errorCode": null,
    "errorMessage": null,
    "from": "+15017122661",
    "messagingServiceSid": "MGXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
    "numMedia": "0",
    "numSegments": "1",
    "price": null,
    "priceUnit": null,
    "sid": "SMXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
    "status": "sent",
    "subresourceUris": "",
    "to": "+15558675310",
    "uri": "/2010-04-01/Accounts/ACXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX/Messages/SMXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX.json"
  }
}
```

<hr className="componentActionSeparator" />

<div id="listmessages" />

### List SMS messages

Lists SMS messages | <small><b>key: listMessages</b></small>

<ComponentInputsTable
  inputs={[
    {
      required: true,
      key: "twilioConnection",
      type: "connection",
      label: "Connection",
    },
  ]}
/>

<hr className="componentActionSeparator" />

<div id="rawrequest" />

### Raw Request

Send raw HTTP request to Twilio | <small><b>key: rawRequest</b></small>

<ComponentInputsTable
  inputs={[
    {
      placeholder: "Data to send",
      required: false,
      comments: "The HTTP body payload to send to the URL.",
      example: '{"exampleKey": "Example Data"}',
      key: "data",
      type: "string",
      default: "",
      label: "Data",
    },
    {
      required: false,
      comments: "Enabling this flag will log out the current request.",
      key: "debugRequest",
      type: "boolean",
      default: "false",
      label: "Debug Request",
    },
    {
      placeholder: "Data to send",
      required: false,
      comments: "File Data to be sent as a multipart form upload.",
      example: '[{key: "example.txt", value: "My File Contents"}]',
      key: "fileData",
      type: "string",
      default: "",
      collection: "keyvaluelist",
      label: "File Data",
    },
    {
      placeholder: "The file name to apply to a file",
      required: false,
      comments:
        "File names to apply to the file data inputs. Keys must match the file data keys above.",
      key: "fileDataFileNames",
      type: "string",
      default: "",
      collection: "keyvaluelist",
      label: "File Data File Names",
    },
    {
      placeholder: "Data to send",
      required: false,
      comments: "The Form Data to be sent as a multipart form upload.",
      example: '[{"key": "Example Key", "value": new Buffer("Hello World")}]',
      key: "formData",
      type: "string",
      default: "",
      collection: "keyvaluelist",
      label: "Form Data",
    },
    {
      placeholder: "Header",
      required: false,
      comments: "A list of headers to send with the request.",
      example: "User-Agent: curl/7.64.1",
      key: "headers",
      type: "string",
      default: "",
      collection: "keyvaluelist",
      label: "Header",
    },
    {
      placeholder: "Max Retries",
      required: false,
      comments: "The maximum number of retries to attempt.",
      key: "maxRetries",
      type: "string",
      default: "0",
      label: "Max Retry Count",
    },
    {
      required: true,
      model: [
        {
          label: "DELETE",
          value: "DELETE",
        },
        {
          label: "GET",
          value: "GET",
        },
        {
          label: "HEAD",
          value: "HEAD",
        },
        {
          label: "LINK",
          value: "LINK",
        },
        {
          label: "OPTIONS",
          value: "OPTIONS",
        },
        {
          label: "PATCH",
          value: "PATCH",
        },
        {
          label: "POST",
          value: "POST",
        },
        {
          label: "PURGE",
          value: "PURGE",
        },
        {
          label: "PUT",
          value: "PUT",
        },
        {
          label: "UNLINK",
          value: "UNLINK",
        },
      ],
      comments: "The HTTP method to use.",
      key: "method",
      type: "string",
      default: "",
      label: "Method",
    },
    {
      placeholder: "Query Parameter",
      required: false,
      comments:
        "A list of query parameters to send with the request. This is the portion at the end of the URL similar to ?key1=value1&key2=value2.",
      key: "queryParams",
      type: "string",
      default: "",
      collection: "keyvaluelist",
      label: "Query Parameter",
    },
    {
      placeholder: "Response Type",
      required: true,
      comments:
        "The type of data you expect in the response. You can request json, text, or binary data.",
      model: [
        {
          label: "arraybuffer",
          value: "arraybuffer",
        },
        {
          label: "document",
          value: "document",
        },
        {
          label: "json",
          value: "json",
        },
        {
          label: "text",
          value: "text",
        },
      ],
      key: "responseType",
      type: "string",
      default: "json",
      label: "Response Type",
    },
    {
      required: false,
      comments:
        "If true, retries on all erroneous responses regardless of type.",
      key: "retryAllErrors",
      type: "boolean",
      default: "false",
      label: "Retry On All Errors",
    },
    {
      placeholder: "Retry Delay",
      required: false,
      comments: "The delay in milliseconds between retries.",
      key: "retryDelayMS",
      type: "string",
      default: "0",
      label: "Retry Delay (ms)",
    },
    {
      required: false,
      comments:
        "The maximum time that a client will await a response to its request",
      example: "2000",
      key: "timeout",
      type: "string",
      default: "",
      label: "Timeout",
    },
    {
      required: true,
      key: "twilioConnection",
      type: "connection",
      label: "Connection",
    },
    {
      placeholder: "URL to call",
      required: true,
      comments:
        "Input the path only (/Accounts/$TWILIO_ACCOUNT_SID/Messages.json), The base URL is already included (https://api.twilio.com/2010-04-01). For example, to connect to https://api.twilio.com/2010-04-01/Accounts/$TWILIO_ACCOUNT_SID/Messages.json, only /Accounts/$TWILIO_ACCOUNT_SID/Messages.json is entered in this field.",
      example: "/Accounts/$TWILIO_ACCOUNT_SID/Messages.json",
      key: "url",
      type: "string",
      default: "",
      label: "URL",
    },
    {
      required: false,
      comments:
        "Specifies whether to use a pre-defined exponential backoff strategy for retries.",
      key: "useExponentialBackoff",
      type: "boolean",
      default: "false",
      label: "Use Exponential Backoff",
    },
  ]}
/>

<hr className="componentActionSeparator" />

<div id="sendsms" />

### Send SMS

Send an SMS message | <small><b>key: sendSMS</b></small>

<ComponentInputsTable
  inputs={[
    {
      placeholder: "SMS sender",
      required: true,
      comments: "The SMS sender's phone number.",
      example: "5555551234",
      key: "from",
      type: "string",
      default: "",
      label: "From",
    },
    {
      placeholder: "Message",
      required: true,
      comments: "The message body of the SMS message.",
      example: "Hello from Prismatic!",
      key: "message",
      type: "string",
      default: "",
      label: "Message",
    },
    {
      placeholder: "SMS recipient",
      required: true,
      comments: "The SMS recipient's phone number.",
      example: "5551234567",
      key: "to",
      type: "string",
      default: "",
      label: "To",
    },
    {
      required: true,
      key: "twilioConnection",
      type: "connection",
      label: "Connection",
    },
  ]}
/>

#### Output Example Payload

```
{
  "data": {
    "accountSid": "ACXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
    "apiVersion": "2010-04-01",
    "body": "body",
    "dateCreated": "2010-04-01T00:00:00.000Z",
    "dateSent": "2010-04-01T00:00:00.000Z",
    "dateUpdated": "2010-04-01T00:00:00.000Z",
    "direction": "outbound-api",
    "errorCode": null,
    "errorMessage": null,
    "from": "+15017122661",
    "messagingServiceSid": "MGXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
    "numMedia": "0",
    "numSegments": "1",
    "price": null,
    "priceUnit": null,
    "sid": "SMXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
    "status": "sent",
    "subresourceUris": "",
    "to": "+15558675310",
    "uri": "/2010-04-01/Accounts/ACXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX/Messages/SMXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX.json"
  }
}
```

<hr className="componentActionSeparator" />
